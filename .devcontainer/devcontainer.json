{
  "name": "Talos IaC Proxmox",
  "image": "mcr.microsoft.com/devcontainers/base:debian",

  "onCreateCommand": "chmod +x ./.devcontainer/on_create.sh && ./.devcontainer/on_create.sh",

  "containerEnv": {
    "TALOSCLI_VERSION": "1.12.0",
    "KUBECONFIG": "${containerWorkspaceFolder}/bootstrap_cluster/kubeconfig",
    "TALOSCONFIG": "${containerWorkspaceFolder}/bootstrap_cluster/talosconfig",
  },

  "mounts": [
    "source=${localEnv:HOME}/.ssh,target=/home/vscode/.ssh,type=bind,readonly"
  ],

  "customizations": {
    "vscode": {
      "extensions": [
        "HashiCorp.terraform",
        "GitHub.copilot",
        "actboy168.tasks"
      ]
    }
  }
}